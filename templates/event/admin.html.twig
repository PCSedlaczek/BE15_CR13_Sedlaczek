{% extends "base.html.twig" %}

{% block body %}
<div class="container">
  {% for message in app.flashes("success") %}
  <div class="alert alert-success">
    {{ message }}
  </div>
  {% endfor %}

  <h2 class="page-header">Manage Events</h2>
  <div id="content" class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 p-4">

    {% for event in events %}
    <div class="col">
      <div class="card shadow">
        <img src="{{asset("img/" ~ event.img)}}" class="card-img-top"
        alt="{{event.title}} - {{event.subtitle}} | {{event.organizer.name}}">
        <div class="card-body">
          <h5 class="card-title">
            {{event.title}}
          </h5>
          <h6 class="card-subtitle mb-2 text-muted">
            {{event.subtitle}}
          </h6>
          <h6 class="card-subtitle mb-2">
            {{event.date| date("D, d M Y")}},
            {{event.start| date("G:i")}} -
            {{event.end| date("G:i")}}
          </h6>
        </div>
        <div class="card-body d-flex justify-content-between">
          <div>
            {{"EUR"| currency_symbol}}{{event.price}}
          </div>
          <div class="btn-group gap-3" role="group">
            <a class="text-secondary" href="/event/{{event.id}}">
              <i class="bi bi-calendar2-event-fill"></i>
            </a>
            <a class="text-success" href="/edit/{{event.id}}">
              <i class="bi bi-calendar2-plus-fill"></i>
            </a>
            <a class="text-danger" href="delete/{{event.id}}">
              <i class="bi bi-calendar2-x-fill"></i>
            </a>
          </div>
        </div>
      </div>
      
    </div>
    {% endfor %}

  </div>
</div>
{% endblock %}